---
import WidgetWrapper from '../ui/WidgetWrapper.astro';
import { Image } from 'astro:assets';
import festivalCocktailPreparing from '/src/assets/images/festival-cocktail-preparing.jpg';

const { id, content = await Astro.slots.render('content') } = Astro.props;

const vendors = [
  {
    src: festivalCocktailPreparing,
    alt: 'preparing',
    name: 'a',
    link: 'https://google.com',
  },
  {
    src: festivalCocktailPreparing,
    alt: 'preparing',
    name: 'b',
    link: 'https://google.com',
  },
  {
    src: festivalCocktailPreparing,
    alt: 'preparing',
    name: 'c',
    link: 'https://google.com',
  },
  {
    src: festivalCocktailPreparing,
    alt: 'preparing',
    name: 'd',
    link: 'https://google.com',
  },
  {
    src: festivalCocktailPreparing,
    alt: 'preparing',
    name: 'e',
    link: 'https://google.com',
  },
];

const vendorsReverse = vendors.slice().reverse();
---

<Fragment>
  <WidgetWrapper id={id}>
    <div class="mx-auto max-w-7xl p-4 md:px-8">
      <div class="w-full flex justify-center -mt-24">
        {content && <h2 class="mb-12 text-lg dark:text-slate-400" set:html={content} />}
      </div>
    </div>
  </WidgetWrapper>
  <div class="group">
    <div
      class="-mt-28 w-full md:-skew-y-2 skew-y-1 overflow-hidden select-none gap-x-8 md:blur-md md:pointer-events-none flex"
    >
      <div
        class="my-4 flex-shrink-0 flex items-center justify-around gap-x-8 min-w-full animate-marquee motion-reduce:[animation-play-state:paused] group-hover:[animation-play-state:paused]"
      >
        {
          vendorsReverse.map(({ link, name, src, alt }) => (
            <a
              href={link}
              target="_blank"
              rel="noopener noreferer"
              class="max-w-[clamp(10rem,2rem+28vmin,20rem)] md:max-w-[clamp(5rem,1rem+14vmin,10rem)] aspect-square object-cover hover:scale-105 transition duration-300 rounded-lg text-center md:pointer-events-none pointer-events-auto md:-scale-x-100"
            >
              <Image src={src} alt={alt} class="rounded-lg text-center" />
              {name}
            </a>
          ))
        }
      </div>

      <div
        aria-hidden="true"
        class="my-4 flex-shrink-0 flex items-center justify-around gap-x-8 min-w-full animate-marquee motion-reduce:[animation-play-state:paused] group-hover:[animation-play-state:paused]"
      >
        {
          vendorsReverse.map(({ link, name, src, alt }) => (
            <a
              href={link}
              target="_blank"
              rel="noopener noreferer"
              class="max-w-[clamp(10rem,2rem+28vmin,20rem)] md:max-w-[clamp(5rem,1rem+14vmin,10rem)] aspect-square object-cover hover:scale-105 transition duration-300 rounded-lg text-center md:pointer-events-none pointer-events-auto md:-scale-x-100"
            >
              <Image src={src} alt={alt} class="rounded-lg text-center" />
              {name}
            </a>
          ))
        }
      </div>
    </div>

    <div class="mt-4 md:-mt-36 w-full skew-y-1 flex overflow-hidden select-none gap-x-8">
      <div
        class="my-4 flex-shrink-0 flex items-center justify-around gap-x-8 min-w-full animate-merquee-reverse motion-reduce:[animation-play-state:paused] group-hover:[animation-play-state:paused]"
      >
        {
          vendors.map(({ link, name, src, alt }) => (
            <a
              href={link}
              target="_blank"
              rel="noopener noreferer"
              class="max-w-[clamp(10rem,2rem+28vmin,20rem)] aspect-square object-cover hover:scale-105 transition duration-300 rounded-lg text-center"
            >
              <Image src={src} alt={alt} class="rounded-lg text-center" />
              {name}
            </a>
          ))
        }
      </div>

      <div
        aria-hidden="true"
        class="my-4 flex-shrink-0 flex items-center justify-around gap-x-8 min-w-full animate-merquee-reverse motion-reduce:[animation-play-state:paused] group-hover:[animation-play-state:paused]"
      >
        {
          vendors.map(({ link, name, src, alt }) => (
            <a
              href={link}
              target="_blank"
              rel="noopener noreferer"
              class="max-w-[clamp(10rem,2rem+28vmin,20rem)] aspect-square object-cover hover:scale-105 transition duration-300 rounded-lg text-center"
            >
              <Image src={src} alt={alt} class="rounded-lg text-center" />
              {name}
            </a>
          ))
        }
      </div>
    </div>
  </div>
</Fragment>
